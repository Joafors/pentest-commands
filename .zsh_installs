#!/bin/zsh

CURR_SHELL="zsh"
RC_FILE=".$CURR_SHELL"rc
WHO_AM_I=$(whoami)
RC_FILE_LOCATION="/home/$WHO_AM_I"
file_path="$RC_FILE_LOCATION/$RC_FILE"

echo -e "\033[1;32m[+]\033[0m The current shell is $CURR_SHELL"

alias_array=(
    "alias common=\"/usr/bin/cat ~/pentest-commands/commands/common\""
    "alias revshells=\"/usr/bin/cat ~/pentest-commands/commands/revshells\""
    "alias foothold=\"/usr/bin/cat ~/pentest-commands/commands/foothold\""
    "alias ttys=\"/usr/bin/cat ~/pentest-commands/commands/ttys\""
)

for element in "${alias_array[@]}"; do
    if ! grep -qF "$element" "$file_path"; then
        echo -e "\033[1;32m[+]\033[0m Prepending $element to $file_path"
        echo "$element" >> "$file_path"
    else
        echo -e "\033[1;33m[!]\033[0m A line already exists in $file_path, skipping."
    fi
done

echo -e "\033[1;32m[+]\033[0m Sourcing the updated file $file_path"
source "$file_path"

echo -e "\033[1;33m[!]\033[0m If you still can't use the aliases, you might need to open a new terminal."

