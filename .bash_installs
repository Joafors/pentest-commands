#!/bin/bash

CURR_SHELL="bash"
RC_FILE=".$CURR_SHELL"rc
WHO_AM_I=$(whoami)
RC_FILE_LOCATION="/home/$WHO_AM_I"

echo "[+] The current shell is $CURR_SHELL"

content_to_prepend="alias common=\"/usr/bin/cat ~/pentest-commands/commands/common\""
file_path="$RC_FILE_LOCATION/$RC_FILE"
echo $file_path
tmp_file="tmpfile"

echo "[+] Prepending $content_to_prepend to $file_path"
echo "$content_to_prepend" | cat - "$file_path" > "$tmp_file"
mv "$tmp_file" "$file_path"

echo "[+] Sourcing the updated file $file_path"
. "$file_path"
